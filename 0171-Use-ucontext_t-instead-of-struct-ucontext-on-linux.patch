From 5137da6e743906b5c0250e01418cc84c09048f5e Mon Sep 17 00:00:00 2001
From: Stas Boukarev <stassats@gmail.com>
Date: Sat, 16 Sep 2017 22:27:40 +0300
Subject: [PATCH 171/203] Use ucontext_t instead of struct ucontext on linux.

Fixes lp#1714549.
---
 src/runtime/alpha-linux-os.h  | 2 +-
 src/runtime/arm-linux-os.h    | 2 +-
 src/runtime/arm64-linux-os.h  | 2 +-
 src/runtime/mips-linux-os.h   | 2 +-
 src/runtime/ppc-linux-os.h    | 2 +-
 src/runtime/x86-64-linux-os.h | 2 +-
 src/runtime/x86-linux-os.h    | 2 +-
 7 files changed, 7 insertions(+), 7 deletions(-)

diff --git a/src/runtime/alpha-linux-os.h b/src/runtime/alpha-linux-os.h
index 40a25eab4..9a7977e7a 100644
--- a/src/runtime/alpha-linux-os.h
+++ b/src/runtime/alpha-linux-os.h
@@ -1,7 +1,7 @@
 #ifndef _ALPHA_LINUX_OS_H
 #define _ALPHA_LINUX_OS_H
 
-typedef struct ucontext os_context_t;
+typedef ucontext_t os_context_t;
 typedef long os_context_register_t;
 
 static inline os_context_t *arch_os_get_context(void **void_context)
diff --git a/src/runtime/arm-linux-os.h b/src/runtime/arm-linux-os.h
index 0bd8f3cac..3899437f0 100644
--- a/src/runtime/arm-linux-os.h
+++ b/src/runtime/arm-linux-os.h
@@ -1,7 +1,7 @@
 #ifndef _ARM_LINUX_OS_H
 #define _ARM_LINUX_OS_H
 
-typedef struct ucontext os_context_t;
+typedef ucontext_t os_context_t;
 typedef long os_context_register_t;
 
 static inline os_context_t *arch_os_get_context(void **void_context)
diff --git a/src/runtime/arm64-linux-os.h b/src/runtime/arm64-linux-os.h
index 0bd8f3cac..3899437f0 100644
--- a/src/runtime/arm64-linux-os.h
+++ b/src/runtime/arm64-linux-os.h
@@ -1,7 +1,7 @@
 #ifndef _ARM_LINUX_OS_H
 #define _ARM_LINUX_OS_H
 
-typedef struct ucontext os_context_t;
+typedef ucontext_t os_context_t;
 typedef long os_context_register_t;
 
 static inline os_context_t *arch_os_get_context(void **void_context)
diff --git a/src/runtime/mips-linux-os.h b/src/runtime/mips-linux-os.h
index cc442b124..1e25189d7 100644
--- a/src/runtime/mips-linux-os.h
+++ b/src/runtime/mips-linux-os.h
@@ -1,7 +1,7 @@
 #ifndef _MIPS_LINUX_OS_H
 #define _MIPS_LINUX_OS_H
 
-typedef struct ucontext os_context_t;
+typedef ucontext_t os_context_t;
 typedef unsigned long long os_context_register_t;
 
 static inline os_context_t *arch_os_get_context(void **void_context)
diff --git a/src/runtime/ppc-linux-os.h b/src/runtime/ppc-linux-os.h
index cfdb60087..66aaac083 100644
--- a/src/runtime/ppc-linux-os.h
+++ b/src/runtime/ppc-linux-os.h
@@ -1,7 +1,7 @@
 #ifndef _PPC_LINUX_OS_H
 #define _PPC_LINUX_OS_H
 
-typedef struct ucontext os_context_t;
+typedef ucontext_t os_context_t;
 typedef unsigned long os_context_register_t;
 
 static inline os_context_t *arch_os_get_context(void **void_context)
diff --git a/src/runtime/x86-64-linux-os.h b/src/runtime/x86-64-linux-os.h
index 60c612294..8a831b5ba 100644
--- a/src/runtime/x86-64-linux-os.h
+++ b/src/runtime/x86-64-linux-os.h
@@ -1,7 +1,7 @@
 #ifndef _X86_64_LINUX_OS_H
 #define _X86_64_LINUX_OS_H
 
-typedef struct ucontext os_context_t;
+typedef ucontext_t os_context_t;
 typedef long os_context_register_t;
 
 static inline os_context_t *arch_os_get_context(void **void_context)
diff --git a/src/runtime/x86-linux-os.h b/src/runtime/x86-linux-os.h
index f2a39f9c1..a4a1a3162 100644
--- a/src/runtime/x86-linux-os.h
+++ b/src/runtime/x86-linux-os.h
@@ -1,7 +1,7 @@
 #ifndef _X86_LINUX_OS_H
 #define _X86_LINUX_OS_H
 
-typedef struct ucontext os_context_t;
+typedef ucontext_t os_context_t;
 typedef greg_t os_context_register_t;
 
 static inline os_context_t *arch_os_get_context(void **void_context)
-- 
2.13.5

